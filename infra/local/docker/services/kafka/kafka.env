# Kafka Environment Variables
# KRaft 모드 및 리스너 설정

# KRaft 설정 (Zookeeper 없이 실행)
KAFKA_NODE_ID=1
KAFKA_PROCESS_ROLES=broker,controller
KAFKA_CONTROLLER_QUORUM_VOTERS=1@localhost:9093

# 리스너 설정
KAFKA_LISTENERS=PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://kafka:9092
KAFKA_LISTENER_SECURITY_PROTOCOL_MAP=PLAINTEXT:PLAINTEXT,CONTROLLER:PLAINTEXT
KAFKA_CONTROLLER_LISTENER_NAMES=CONTROLLER
KAFKA_INTER_BROKER_LISTENER_NAME=PLAINTEXT

# 클러스터 ID (UUID 형식)
KAFKA_CLUSTER_ID=MkU3OEVBNTcwNTJENDM2Qk

# 로그 디렉토리
KAFKA_LOG_DIRS=/kafka/kafka-logs

# 자동 토픽 생성 설정
KAFKA_AUTO_CREATE_TOPICS_ENABLE=true
KAFKA_NUM_PARTITIONS=3
KAFKA_DEFAULT_REPLICATION_FACTOR=1

# 로그 보존 설정
KAFKA_LOG_RETENTION_HOURS=168
KAFKA_LOG_RETENTION_BYTES=1073741824
KAFKA_LOG_SEGMENT_BYTES=1073741824

# JVM 힙 크기
KAFKA_HEAP_OPTS=-Xmx1G -Xms1G

# 기타 설정
KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR=1
KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR=1
KAFKA_TRANSACTION_STATE_LOG_MIN_ISR=1
